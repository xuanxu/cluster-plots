<turbo-frame id="plots">
  <%= render "plots/loading_plot_data" %>
  <div id="plots_container_wrapper">
    <div id="plots_container_header" class="font-bold space-x-4 mt-6 text-red-900">
      <i class='fa-duotone fa-solid fa-chart-line'></i> PLOTS
    </div>

    <div id="plots_container" class="container mx-auto mt-3 px-4 py-2 max-w-[1400] bg-white shadow-md">
      <div id="title-chart" style="height: 50px"></div>
      <% if @plot_info.nil? || @plot_info.is_a?(String) %>
        <div id="form-error-message" class="font-bold text-red-500 text-center mb-[55px]">
        ‼️ <%= @plot_info %>
        </div>
      <% else %>
        <% @plot_info["panels_arr"].size.times do |i| %>
          <div id="highcharts_plot_<%= i %>"></div>
        <% end %>
      <% end %>
      <div id="axis-chart" xstyle="height: 50px"></div>
    </div>
  </div>

  <script>
    var chart_json_data = '<%= @plot_info.to_json.html_safe %>';
    var chart_start_datetime = '<%= @start_date + "T" + @start_time %>';
    var chart_stop_datetime = '<%= @stop_date + "T" + @stop_time %>';
  </script>
</turbo-frame>
